<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableLocators,DisableListDemotion,DisableListPromotion" xsi:type="a:CqlToElmInfo"/>
   <identifier id="MERStratifiers" system="https://path-global-health.github.io/MERindicators" version="0.1.0"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def locator="3:1-3:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1"/>
   </usings>
   <includes>
      <def locator="5:1-5:35" localIdentifier="FHIRHelpers" path="https://path-global-health.github.io/MERindicators/FHIRHelpers" version="4.0.1"/>
      <def locator="6:1-6:44" localIdentifier="FC" path="https://path-global-health.github.io/MERindicators/FHIRCommon" version="4.0.1"/>
      <def locator="8:1-8:29" localIdentifier="Cx" path="https://path-global-health.github.io/MERindicators/MERConcepts"/>
   </includes>
   <parameters>
      <def locator="37:1-37:114" name="Measurement Period" accessLevel="Public">
         <default locator="37:59-37:114" lowClosed="true" highClosed="true" xsi:type="Interval">
            <low locator="37:68-37:89" xsi:type="DateTime">
               <year valueType="t:Integer" value="1990" xsi:type="Literal"/>
               <month valueType="t:Integer" value="1" xsi:type="Literal"/>
               <day valueType="t:Integer" value="1" xsi:type="Literal"/>
               <hour valueType="t:Integer" value="0" xsi:type="Literal"/>
               <minute valueType="t:Integer" value="0" xsi:type="Literal"/>
               <second valueType="t:Integer" value="0" xsi:type="Literal"/>
               <millisecond valueType="t:Integer" value="0" xsi:type="Literal"/>
            </low>
            <high locator="37:92-37:113" xsi:type="DateTime">
               <year valueType="t:Integer" value="2022" xsi:type="Literal"/>
               <month valueType="t:Integer" value="8" xsi:type="Literal"/>
               <day valueType="t:Integer" value="30" xsi:type="Literal"/>
               <hour valueType="t:Integer" value="0" xsi:type="Literal"/>
               <minute valueType="t:Integer" value="0" xsi:type="Literal"/>
               <second valueType="t:Integer" value="0" xsi:type="Literal"/>
               <millisecond valueType="t:Integer" value="0" xsi:type="Literal"/>
            </high>
         </default>
         <parameterTypeSpecifier locator="37:32-37:49" xsi:type="IntervalTypeSpecifier">
            <pointType locator="37:41-37:48" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <codeSystems>
      <def locator="14:1-14:92" name="ISO-8601-Derived Periods" id="http://ohie.org/CodeSystem/iso-8601-derived-periods" accessLevel="Public"/>
   </codeSystems>
   <codes>
      <def locator="15:1-15:78" name="P0Y--P1Y" id="P0Y--P1Y" display="&lt; 1 year" accessLevel="Public">
         <codeSystem locator="15:34-15:59" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="16:1-16:79" name="P1Y--P5Y" id="P1Y--P5Y" display="1-4 years" accessLevel="Public">
         <codeSystem locator="16:34-16:59" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="17:1-17:80" name="P5Y--P10Y" id="P5Y--P10Y" display="5-9 year" accessLevel="Public">
         <codeSystem locator="17:36-17:61" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="18:1-18:84" name="P10Y--P15Y" id="P10Y--P15Y" display="10-14 year" accessLevel="Public">
         <codeSystem locator="18:38-18:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="19:1-19:84" name="P15Y--P20Y" id="P15Y--P20Y" display="15-19 year" accessLevel="Public">
         <codeSystem locator="19:38-19:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="20:1-20:84" name="P20Y--P25Y" id="P20Y--P25Y" display="20-24 year" accessLevel="Public">
         <codeSystem locator="20:38-20:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="21:1-21:84" name="P25Y--P30Y" id="P25Y--P30Y" display="25-29 year" accessLevel="Public">
         <codeSystem locator="21:38-21:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="22:1-22:84" name="P30Y--P35Y" id="P30Y--P35Y" display="30-34 year" accessLevel="Public">
         <codeSystem locator="22:38-22:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="23:1-23:84" name="P35Y--P40Y" id="P35Y--P40Y" display="35-39 year" accessLevel="Public">
         <codeSystem locator="23:38-23:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="24:1-24:84" name="P40Y--P45Y" id="P40Y--P45Y" display="40-45 year" accessLevel="Public">
         <codeSystem locator="24:38-24:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="25:1-25:84" name="P45Y--P50Y" id="P45Y--P50Y" display="45-50 year" accessLevel="Public">
         <codeSystem locator="25:38-25:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="26:1-26:87" name="P50Y--P9999Y" id="P50Y--P9999Y" display="50+ years" accessLevel="Public">
         <codeSystem locator="26:42-26:67" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="28:1-28:84" name="P50Y--P55Y" id="P50Y--P55Y" display="50-55 year" accessLevel="Public">
         <codeSystem locator="28:38-28:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="29:1-29:84" name="P55Y--P60Y" id="P50Y--P60Y" display="55-60 year" accessLevel="Public">
         <codeSystem locator="29:38-29:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="30:1-30:84" name="P60Y--P65Y" id="P50Y--P60Y" display="60-65 year" accessLevel="Public">
         <codeSystem locator="30:38-30:63" name="ISO-8601-Derived Periods"/>
      </def>
      <def locator="31:1-31:87" name="P65Y--P9999Y" id="P50Y--P9999Y" display="65+ years" accessLevel="Public">
         <codeSystem locator="31:42-31:67" name="ISO-8601-Derived Periods"/>
      </def>
   </codes>
   <contexts>
      <def locator="56:1-56:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="56:1-56:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="56:1-56:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def locator="61:1-62:22" name="Sex" context="Patient" accessLevel="Public">
         <expression locator="62:3-62:22" path="value" xsi:type="Property">
            <source locator="62:3-62:16" path="gender" xsi:type="Property">
               <source locator="62:3-62:9" name="Patient" xsi:type="ExpressionRef"/>
            </source>
         </expression>
      </def>
      <def locator="66:1-81:5" name="Age Group" context="Patient" accessLevel="Public">
         <expression locator="67:3-81:5" xsi:type="Case">
            <caseItem locator="68:5-68:86">
               <when locator="68:10-68:70" xsi:type="In">
                  <operand locator="68:10-68:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="68:23-68:51" xsi:type="Start">
                        <operand locator="68:32-68:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="68:57-68:70" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="68:66" valueType="t:Integer" value="0" xsi:type="Literal"/>
                     <high locator="68:69" valueType="t:Integer" value="1" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="68:77-68:86" name="P0Y--P1Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="69:5-69:86">
               <when locator="69:10-69:70" xsi:type="In">
                  <operand locator="69:10-69:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="69:23-69:51" xsi:type="Start">
                        <operand locator="69:32-69:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="69:57-69:70" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="69:66" valueType="t:Integer" value="1" xsi:type="Literal"/>
                     <high locator="69:69" valueType="t:Integer" value="5" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="69:77-69:86" name="P1Y--P5Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="70:5-70:88">
               <when locator="70:10-70:71" xsi:type="In">
                  <operand locator="70:10-70:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="70:23-70:51" xsi:type="Start">
                        <operand locator="70:32-70:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="70:57-70:71" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="70:66" valueType="t:Integer" value="5" xsi:type="Literal"/>
                     <high locator="70:69-70:70" valueType="t:Integer" value="10" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="70:78-70:88" name="P5Y--P10Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="71:5-71:90">
               <when locator="71:10-71:72" xsi:type="In">
                  <operand locator="71:10-71:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="71:23-71:51" xsi:type="Start">
                        <operand locator="71:32-71:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="71:57-71:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="71:66-71:67" valueType="t:Integer" value="10" xsi:type="Literal"/>
                     <high locator="71:70-71:71" valueType="t:Integer" value="15" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="71:79-71:90" name="P10Y--P15Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="72:5-72:90">
               <when locator="72:10-72:72" xsi:type="In">
                  <operand locator="72:10-72:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="72:23-72:51" xsi:type="Start">
                        <operand locator="72:32-72:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="72:57-72:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="72:66-72:67" valueType="t:Integer" value="15" xsi:type="Literal"/>
                     <high locator="72:70-72:71" valueType="t:Integer" value="20" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="72:79-72:90" name="P15Y--P20Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="73:5-73:90">
               <when locator="73:10-73:72" xsi:type="In">
                  <operand locator="73:10-73:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="73:23-73:51" xsi:type="Start">
                        <operand locator="73:32-73:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="73:57-73:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="73:66-73:67" valueType="t:Integer" value="20" xsi:type="Literal"/>
                     <high locator="73:70-73:71" valueType="t:Integer" value="25" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="73:79-73:90" name="P20Y--P25Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="74:5-74:90">
               <when locator="74:10-74:72" xsi:type="In">
                  <operand locator="74:10-74:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="74:23-74:51" xsi:type="Start">
                        <operand locator="74:32-74:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="74:57-74:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="74:66-74:67" valueType="t:Integer" value="25" xsi:type="Literal"/>
                     <high locator="74:70-74:71" valueType="t:Integer" value="30" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="74:79-74:90" name="P25Y--P30Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="75:5-75:90">
               <when locator="75:10-75:72" xsi:type="In">
                  <operand locator="75:10-75:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="75:23-75:51" xsi:type="Start">
                        <operand locator="75:32-75:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="75:57-75:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="75:66-75:67" valueType="t:Integer" value="30" xsi:type="Literal"/>
                     <high locator="75:70-75:71" valueType="t:Integer" value="35" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="75:79-75:90" name="P30Y--P35Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="76:5-76:90">
               <when locator="76:10-76:72" xsi:type="In">
                  <operand locator="76:10-76:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="76:23-76:51" xsi:type="Start">
                        <operand locator="76:32-76:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="76:57-76:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="76:66-76:67" valueType="t:Integer" value="35" xsi:type="Literal"/>
                     <high locator="76:70-76:71" valueType="t:Integer" value="40" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="76:79-76:90" name="P35Y--P40Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="77:5-77:90">
               <when locator="77:10-77:72" xsi:type="In">
                  <operand locator="77:10-77:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="77:23-77:51" xsi:type="Start">
                        <operand locator="77:32-77:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="77:57-77:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="77:66-77:67" valueType="t:Integer" value="40" xsi:type="Literal"/>
                     <high locator="77:70-77:71" valueType="t:Integer" value="45" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="77:79-77:90" name="P40Y--P45Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="78:5-78:90">
               <when locator="78:10-78:72" xsi:type="In">
                  <operand locator="78:10-78:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="78:23-78:51" xsi:type="Start">
                        <operand locator="78:32-78:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="78:57-78:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="78:66-78:67" valueType="t:Integer" value="45" xsi:type="Literal"/>
                     <high locator="78:70-78:71" valueType="t:Integer" value="50" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="78:79-78:90" name="P45Y--P50Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="79:5-79:94">
               <when locator="79:10-79:74" xsi:type="In">
                  <operand locator="79:10-79:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="79:23-79:51" xsi:type="Start">
                        <operand locator="79:32-79:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="79:57-79:74" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low locator="79:66-79:67" valueType="t:Integer" value="50" xsi:type="Literal"/>
                     <high asType="t:Integer" xsi:type="As">
                        <operand locator="79:70-79:73" xsi:type="Null"/>
                     </high>
                  </operand>
               </when>
               <then locator="79:81-79:94" name="P50Y--P9999Y" xsi:type="CodeRef"/>
            </caseItem>
            <else asType="t:Code" xsi:type="As">
               <operand locator="80:10-80:13" xsi:type="Null"/>
            </else>
         </expression>
      </def>
      <def locator="84:1-102:5" name="Age Group TXCURR" context="Patient" accessLevel="Public">
         <expression locator="85:3-102:5" xsi:type="Case">
            <caseItem locator="86:5-86:86">
               <when locator="86:10-86:70" xsi:type="In">
                  <operand locator="86:10-86:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="86:23-86:51" xsi:type="Start">
                        <operand locator="86:32-86:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="86:57-86:70" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="86:66" valueType="t:Integer" value="0" xsi:type="Literal"/>
                     <high locator="86:69" valueType="t:Integer" value="1" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="86:77-86:86" name="P0Y--P1Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="87:5-87:86">
               <when locator="87:10-87:70" xsi:type="In">
                  <operand locator="87:10-87:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="87:23-87:51" xsi:type="Start">
                        <operand locator="87:32-87:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="87:57-87:70" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="87:66" valueType="t:Integer" value="1" xsi:type="Literal"/>
                     <high locator="87:69" valueType="t:Integer" value="5" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="87:77-87:86" name="P1Y--P5Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="88:5-88:88">
               <when locator="88:10-88:71" xsi:type="In">
                  <operand locator="88:10-88:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="88:23-88:51" xsi:type="Start">
                        <operand locator="88:32-88:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="88:57-88:71" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="88:66" valueType="t:Integer" value="5" xsi:type="Literal"/>
                     <high locator="88:69-88:70" valueType="t:Integer" value="10" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="88:78-88:88" name="P5Y--P10Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="89:5-89:90">
               <when locator="89:10-89:72" xsi:type="In">
                  <operand locator="89:10-89:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="89:23-89:51" xsi:type="Start">
                        <operand locator="89:32-89:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="89:57-89:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="89:66-89:67" valueType="t:Integer" value="10" xsi:type="Literal"/>
                     <high locator="89:70-89:71" valueType="t:Integer" value="15" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="89:79-89:90" name="P10Y--P15Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="90:5-90:90">
               <when locator="90:10-90:72" xsi:type="In">
                  <operand locator="90:10-90:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="90:23-90:51" xsi:type="Start">
                        <operand locator="90:32-90:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="90:57-90:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="90:66-90:67" valueType="t:Integer" value="15" xsi:type="Literal"/>
                     <high locator="90:70-90:71" valueType="t:Integer" value="20" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="90:79-90:90" name="P15Y--P20Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="91:5-91:90">
               <when locator="91:10-91:72" xsi:type="In">
                  <operand locator="91:10-91:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="91:23-91:51" xsi:type="Start">
                        <operand locator="91:32-91:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="91:57-91:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="91:66-91:67" valueType="t:Integer" value="20" xsi:type="Literal"/>
                     <high locator="91:70-91:71" valueType="t:Integer" value="25" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="91:79-91:90" name="P20Y--P25Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="92:5-92:90">
               <when locator="92:10-92:72" xsi:type="In">
                  <operand locator="92:10-92:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="92:23-92:51" xsi:type="Start">
                        <operand locator="92:32-92:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="92:57-92:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="92:66-92:67" valueType="t:Integer" value="25" xsi:type="Literal"/>
                     <high locator="92:70-92:71" valueType="t:Integer" value="30" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="92:79-92:90" name="P25Y--P30Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="93:5-93:90">
               <when locator="93:10-93:72" xsi:type="In">
                  <operand locator="93:10-93:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="93:23-93:51" xsi:type="Start">
                        <operand locator="93:32-93:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="93:57-93:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="93:66-93:67" valueType="t:Integer" value="30" xsi:type="Literal"/>
                     <high locator="93:70-93:71" valueType="t:Integer" value="35" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="93:79-93:90" name="P30Y--P35Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="94:5-94:90">
               <when locator="94:10-94:72" xsi:type="In">
                  <operand locator="94:10-94:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="94:23-94:51" xsi:type="Start">
                        <operand locator="94:32-94:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="94:57-94:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="94:66-94:67" valueType="t:Integer" value="35" xsi:type="Literal"/>
                     <high locator="94:70-94:71" valueType="t:Integer" value="40" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="94:79-94:90" name="P35Y--P40Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="95:5-95:90">
               <when locator="95:10-95:72" xsi:type="In">
                  <operand locator="95:10-95:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="95:23-95:51" xsi:type="Start">
                        <operand locator="95:32-95:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="95:57-95:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="95:66-95:67" valueType="t:Integer" value="40" xsi:type="Literal"/>
                     <high locator="95:70-95:71" valueType="t:Integer" value="45" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="95:79-95:90" name="P40Y--P45Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="96:5-96:90">
               <when locator="96:10-96:72" xsi:type="In">
                  <operand locator="96:10-96:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="96:23-96:51" xsi:type="Start">
                        <operand locator="96:32-96:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="96:57-96:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="96:66-96:67" valueType="t:Integer" value="45" xsi:type="Literal"/>
                     <high locator="96:70-96:71" valueType="t:Integer" value="50" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="96:79-96:90" name="P45Y--P50Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="97:5-97:90">
               <when locator="97:10-97:72" xsi:type="In">
                  <operand locator="97:10-97:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="97:23-97:51" xsi:type="Start">
                        <operand locator="97:32-97:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="97:57-97:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="97:66-97:67" valueType="t:Integer" value="50" xsi:type="Literal"/>
                     <high locator="97:70-97:71" valueType="t:Integer" value="55" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="97:79-97:90" name="P50Y--P55Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="98:5-98:90">
               <when locator="98:10-98:72" xsi:type="In">
                  <operand locator="98:10-98:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="98:23-98:51" xsi:type="Start">
                        <operand locator="98:32-98:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="98:57-98:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="98:66-98:67" valueType="t:Integer" value="55" xsi:type="Literal"/>
                     <high locator="98:70-98:71" valueType="t:Integer" value="60" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="98:79-98:90" name="P55Y--P60Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="99:5-99:90">
               <when locator="99:10-99:72" xsi:type="In">
                  <operand locator="99:10-99:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="99:23-99:51" xsi:type="Start">
                        <operand locator="99:32-99:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="99:57-99:72" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low locator="99:66-99:67" valueType="t:Integer" value="60" xsi:type="Literal"/>
                     <high locator="99:70-99:71" valueType="t:Integer" value="65" xsi:type="Literal"/>
                  </operand>
               </when>
               <then locator="99:79-99:90" name="P60Y--P65Y" xsi:type="CodeRef"/>
            </caseItem>
            <caseItem locator="100:5-100:94">
               <when locator="100:10-100:74" xsi:type="In">
                  <operand locator="100:10-100:52" precision="Year" xsi:type="CalculateAgeAt">
                     <operand xsi:type="ToDateTime">
                        <operand path="birthDate.value" xsi:type="Property">
                           <source name="Patient" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand locator="100:23-100:51" xsi:type="Start">
                        <operand locator="100:32-100:51" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand locator="100:57-100:74" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low locator="100:66-100:67" valueType="t:Integer" value="65" xsi:type="Literal"/>
                     <high asType="t:Integer" xsi:type="As">
                        <operand locator="100:70-100:73" xsi:type="Null"/>
                     </high>
                  </operand>
               </when>
               <then locator="100:81-100:94" name="P65Y--P9999Y" xsi:type="CodeRef"/>
            </caseItem>
            <else asType="t:Code" xsi:type="As">
               <operand locator="101:10-101:13" xsi:type="Null"/>
            </else>
         </expression>
      </def>
      <def locator="105:1-106:32" name="Age Group/Sex" context="Patient" accessLevel="Public">
         <expression locator="106:3-106:32" xsi:type="Concatenate">
            <operand locator="106:3-106:24" xsi:type="Concatenate">
               <operand locator="106:3-106:18" path="code" xsi:type="Property">
                  <source locator="106:3-106:13" name="Age Group" xsi:type="ExpressionRef"/>
               </operand>
               <operand locator="106:22-106:24" valueType="t:String" value=":" xsi:type="Literal"/>
            </operand>
            <operand locator="106:28-106:32" name="Sex" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def locator="109:1-115:3" name="Last Location" context="Patient" accessLevel="Public">
         <expression locator="110:3-115:3" xsi:type="Last">
            <source locator="110:8-114:11" xsi:type="Query">
               <source locator="110:8-110:20" alias="E">
                  <expression locator="110:8-110:18" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" xsi:type="Retrieve"/>
               </source>
               <return locator="111:5-114:11">
                  <expression locator="111:12-114:11" xsi:type="SingletonFrom">
                     <operand locator="111:27-114:11" xsi:type="Query">
                        <source alias="$this">
                           <expression locator="111:27-114:5" xsi:type="Query">
                              <source locator="111:28-111:39" alias="L">
                                 <expression locator="111:28-111:37" path="location" scope="E" xsi:type="Property"/>
                              </source>
                              <return locator="113:7-113:33">
                                 <expression locator="113:14-113:33" path="reference" xsi:type="Property">
                                    <source locator="113:14-113:23" path="location" scope="L" xsi:type="Property"/>
                                 </expression>
                              </return>
                           </expression>
                        </source>
                        <where xsi:type="Not">
                           <operand xsi:type="IsNull">
                              <operand path="value" xsi:type="Property">
                                 <source name="$this" xsi:type="AliasRef"/>
                              </operand>
                           </operand>
                        </where>
                        <return distinct="false">
                           <expression path="value" xsi:type="Property">
                              <source name="$this" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </operand>
                  </expression>
               </return>
            </source>
         </expression>
      </def>
      <def locator="155:1-157:102" name="OpenMRS Location" context="Patient" accessLevel="Public">
         <expression locator="156:3-157:102" xsi:type="Query">
            <source locator="156:3-156:13" alias="P">
               <expression locator="156:3-156:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <where locator="157:5-157:102" xsi:type="Equivalent">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand locator="157:11-157:42" path="url" xsi:type="Property">
                     <source locator="157:11-157:38" xsi:type="Indexer">
                        <operand locator="157:11-157:35" path="extension" xsi:type="Property">
                           <source locator="157:11-157:25" xsi:type="Indexer">
                              <operand locator="157:11-157:22" path="identifier" scope="P" xsi:type="Property"/>
                              <operand locator="157:24" valueType="t:Integer" value="0" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand locator="157:37" valueType="t:Integer" value="0" xsi:type="Literal"/>
                     </source>
                  </operand>
               </operand>
               <operand locator="157:46-157:102" valueType="t:String" value="http://fhir.openmrs.org/ext/patient/identifier#location" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def locator="168:1-174:58" name="Last serviceProvider" context="Patient" accessLevel="Public">
         <expression locator="172:3-174:58" xsi:type="Query">
            <source locator="172:3-172:15" alias="E">
               <expression locator="172:3-172:13" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" xsi:type="Retrieve"/>
            </source>
            <where locator="173:5-173:39" xsi:type="Not">
               <operand locator="173:11-173:39" xsi:type="IsNull">
                  <operand locator="173:11-173:27" path="serviceProvider" scope="E" xsi:type="Property"/>
               </operand>
            </where>
            <return locator="174:3-174:58">
               <expression locator="174:10-174:58" path="value" xsi:type="Property">
                  <source locator="174:10-174:52" path="reference" xsi:type="Property">
                     <source locator="174:10-174:42" path="serviceProvider" xsi:type="Property">
                        <source locator="174:10-174:26" xsi:type="Last">
                           <source locator="174:15-174:25" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" xsi:type="Retrieve"/>
                        </source>
                     </source>
                  </source>
               </expression>
            </return>
         </expression>
      </def>
      <def locator="178:1-181:46" name="Location" context="Patient" accessLevel="Public">
         <expression locator="179:3-181:46" xsi:type="If">
            <condition locator="179:6-179:32" xsi:type="Not">
               <operand locator="179:6-179:32" xsi:type="IsNull">
                  <operand locator="179:6-179:20" name="Last Location" xsi:type="ExpressionRef"/>
               </operand>
            </condition>
            <then locator="179:39-179:55" name="Last Location" xsi:type="ExpressionRef"/>
            <else locator="181:8-181:46" xsi:type="SingletonFrom">
               <operand locator="181:23-181:46" name="Last serviceProvider" xsi:type="ExpressionRef"/>
            </else>
         </expression>
      </def>
      <def locator="184:1-185:51" name="Age Group/Sex/Location" context="Patient" accessLevel="Public">
         <expression locator="185:3-185:51" xsi:type="Concatenate">
            <operand locator="185:3-185:38" xsi:type="Concatenate">
               <operand locator="185:3-185:32" xsi:type="Concatenate">
                  <operand locator="185:3-185:24" xsi:type="Concatenate">
                     <operand locator="185:3-185:18" path="code" xsi:type="Property">
                        <source locator="185:3-185:13" name="Age Group" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand locator="185:22-185:24" valueType="t:String" value=":" xsi:type="Literal"/>
                  </operand>
                  <operand locator="185:28-185:32" name="Sex" xsi:type="ExpressionRef"/>
               </operand>
               <operand locator="185:36-185:38" valueType="t:String" value=":" xsi:type="Literal"/>
            </operand>
            <operand locator="185:42-185:51" name="Location" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def locator="188:1-189:58" name="Age Group/Sex/Location TXCURR" context="Patient" accessLevel="Public">
         <expression locator="189:3-189:58" xsi:type="Concatenate">
            <operand locator="189:3-189:45" xsi:type="Concatenate">
               <operand locator="189:3-189:39" xsi:type="Concatenate">
                  <operand locator="189:3-189:31" xsi:type="Concatenate">
                     <operand locator="189:3-189:25" path="code" xsi:type="Property">
                        <source locator="189:3-189:20" name="Age Group TXCURR" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand locator="189:29-189:31" valueType="t:String" value=":" xsi:type="Literal"/>
                  </operand>
                  <operand locator="189:35-189:39" name="Sex" xsi:type="ExpressionRef"/>
               </operand>
               <operand locator="189:43-189:45" valueType="t:String" value=":" xsi:type="Literal"/>
            </operand>
            <operand locator="189:49-189:58" name="Location" xsi:type="ExpressionRef"/>
         </expression>
      </def>
   </statements>
</library>
